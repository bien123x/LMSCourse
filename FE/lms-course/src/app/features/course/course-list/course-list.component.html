<p-data-view
  #dv
  [value]="courses()"
  [paginator]="true"
  [rows]="rows()"
  [totalRecords]="totalRecodes()"
  [sortField]="sortField"
  [sortOrder]="sortOrder"
  [lazy]="true"
  (onLazyLoad)="loadLazy($event)"
>
  <ng-template #header>
    <div class="flex flex-col md:flex-row md:justify-between">
      <p-select
        [options]="sortOptions"
        [(ngModel)]="sortKey"
        placeholder="Sort By Price"
        (onChange)="onSortChange($event)"
        class="mb-2 md:mb-0"
      />
    </div>
  </ng-template>
  <ng-template let-items #list>
    <div class="grid grid-cols-12">
      @for (item of items; track $index; let f = $first; let l = $last) {
      <div class="col-span-12 bg-white">
        <div class="flex flex-col sm:flex-row sm:items-center p-6 gap-4">
          <div class="md:w-40 relative">
            <img
              class="block xl:block mx-auto rounded-border w-full"
              [src]="'assets/images/' + item.thumbnailUrl"
              [alt]="item.thumbnailUrl"
            />
            <p-tag
              [value]="item.maxStudents"
              class="absolute dark:!bg-surface-900"
              [style.left.px]="4"
              [style.top.px]="4"
            />
          </div>
          <div class="flex flex-col md:flex-row justify-between md:items-center flex-1 gap-6">
            <div class="flex flex-row md:flex-col justify-between items-start gap-2">
              <p>Giáo viên: {{ item.teacherName }}</p>
              <h3>{{ item.title }}</h3>
              <p>Loại: {{ item.categoryName }}</p>
              <p>Mức độ: {{ item.levelName }}</p>
              <p>Ngôn ngữ: {{ item.languageName }}</p>
            </div>
            <div class="flex flex-row md:flex-col justify-between items-start gap-2">
              <p class="text-red-500">
                Giá: {{ item.price | currency : 'VND' : 'symbol' : '1.0-0' }}
              </p>
              <p-button
                label="Xem chi tiết"
                icon="pi pi-eye"
                class="p-button-sm p-0"
                (onClick)="viewDetail(item.courseId)"
              ></p-button>
            </div>
          </div>
        </div>
      </div>
      }
    </div>
  </ng-template>
</p-data-view>
